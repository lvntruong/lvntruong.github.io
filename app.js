const messages = {
  en: {
    app: {
      readMore: "Read More",
      less: "Less",
    },
    hero: {
      title: "From Eureka to reality.",
      subtitle:
        "Save up to 65% on your development costs with no compromise on quality.",
      quote: "Request a free quote",
    },
    nav: {
      home: "Home",
      services: "Services",
      work: "Our Work",
      about: "About",
      blog: "Blog",
      qcp: "DAVA",
      contact: "Contact",
    },
    services: {
      title: "Services",
      body:
        "Breaking the mould of traditional software development labs, we're an outgoing bunch who offer a handful of bespoke services to ensure you're nothing but delighted with the outcome of your project, from Eureka to revenue.",
      appDev: {
        title: "App Development",
        body:
          "Bespoke mobile and web app development is our bread and butter! Specialising in React Native, React.JS, Node.Js, Swift and Android, we can build to-design any project and integrate cutting-edge features to aggressive deadlines. We're also happy to build you a prototype app to kickstart your journey.",
      },
      webDev: {
        title: "Web Development",
        body:
          "Need a website? We're perfectionists when it comes to web design and will build your SEO-optimised, responsive website using HTML, CSS, JavaScript and JQuery. Need a little more control over your content? We'll be happy to build you a fresh looking WordPress site that you can edit without using code.",
      },
      consulting: {
        title: "Consulting",
        body:
          "Startup specialists with proven track records, we're on hand to consult your company and add value wherever required. With over 30 years' combined industry experience, we excel in advising high-growth startups.",
      },
      investment: {
        title: "Investment Decks",
        body:
          "With a proven track record for successful fundraising, we are able to finetune or create world-class pitch decks from scratch, ensuring they're on brand, concise and eye-catching.",
      },
      design: {
        title: "Graphic Design",
        body:
          "We can design absolutely anything for you. Need a prototype designed? A new logo? A website or just some flyers or a restaurant menu? 24h.dev has your back - we'll keep costs down as well as provide a high quality product.",
      },
    },
    work: {
      title: "Our work",
      body:
        "We're passionate about creating beautiful work for our clients. Below you can see some examples of our creations. Contact us today for a quote.",
      website: "Website",
      clascity: {
        title: "Clascity",
        bodyHTML:
          "<p>Search and connect with tutors from across the web. In just a few clicks, you will be learning from the best teachers and gurus out there.</p>",
      },
      autopulse: {
        title: "Autopulse",
        bodyHTML: "<p>Never search for a vehicle the same way again</p>",
      },
      a3p: {
        title: "Antarcticn",
        bodyHTML:
          "<p>Equipped with company analysis, portfolio management, fund and portfolio reporting and search tools along with a comprehensive database</p>",
      },
      wiggle: {
        title: "Wiggle",
        bodyHTML:
          "<p>Equipped with company analysis, portfolio management, fund and portfolio reporting and search tools along with a comprehensive database</p>",
      },
      crowdskills: {
        title: "Crowdskills",
        bodyHTML:
          "<p>Meet with local experts in web and digital services. An affordable way to hire local professionals to get the job done properly.</p>",
      },
      axiomzen: {
        title: "Axiomzen",
        bodyHTML:
          "<p>Axiom Zen is an innovation studio. We build products and teams that power successful businesses.</p>",
      },
    },
    about: {
      title: "About",
      body:
        "Founded in 2018, 24h.dev is run by entrepreneurs with proven track records at C-level positions in successful tech startups. Based in Da Nang, with a growing team of over 15 developers, we’re delighted to be your guide from that Eureka moment to the reality of your new product. Meet just a few of the many key members of the team below:",
      vien: {
        role: "Co-Founder, CEO",
        bio:
          "Vien runs our ever-growing team of 20+ developers in Da Nang and has over 5 years of web and app development and software engineer management to his team. He thoroughly enjoys interacting with clients and ensuring they're nothing but delighted with the outcome of their projects.",
      },
      thuytran: {
        role: "HR Admin",
        bio:
          "Thuy is a HR Admin of company. She always helps the company find the best and most suitable employees for the company and solves administrative procedures. She also helps with testing a few projects as needed.",
      },
      dieuphan: {
        role: "Director of Administration and Finance",
        bio:
          "Dieu is a Director of Administration and Finance of company. She will manage all financial, and administrative services and will provide strategic business guidance to further develop 24HDEV as a software development organization.",
      },
      nhattruong: {
        role: "Co-Founder, CTO",
        bio:
          "Truong boasts 5 years of experience in the IT industry and is a security expert, project manager extrordinaire and pretty good badminton player.",
      },
      vudang: {
        role: "Developer",
        bio:
          "Vu graduated from Da Nang University of Technology, majoring in IT. He has 5 years of experience in software development and participated in projects with programming languages ​​such as java, php, js, golang ... Vu is a sociable, open-minded, eager to learn new things.",
      },
      annguyen: {
        role: "Developer",
        bio:
          "An graduated from Da Nang University of Technology, majoring in IT. He has 3 years of experience in software development and participated in projects with react, apollo graphql, nextjs, nestjs, mongodb, mysql ... An is a sociable, open-minded, eager to learn new things.",
      },
      minhnguyet: {
        role: "Developer",
        bio:
          "An undergraduate student at Da Nang University of Science and Technology, majoring in IT. She's a newbie in software development, a little of ReactJS, NodeJs, Apollo GraphQl, Typescript, etc, but with her disire to learn all new things, she's a talent candidate to be your partner. Btw she loves travel and charity works.",
      },
      haule: {
        role: "Developer",
        bio:
          "Hau graduated from Da Nang University of Technology, majoring in IT. He has 3 years of experience in software development and participated in projects with react, ruby, rails, mongodb, mysql,postgresql ... Hau is a sociable, open-minded, eager to learn new things.",
      },
      quangtran: {
        role: "Developer",
        bio:
          "An undergraduate student at Da Nang University of Science and Technology, majoring in IT. He has 1 year of experience in ReactJs, NodeJs. He's so talent, he can learn new things quickly,... You will enjoy working with him!",
      },
      // hongquan: {
      //   role: "Developer",
      //   bio:
      //     "An undergraduate student at Da Nang University of Science and Technology, majoring in IT. He's a newbie in software development, a little of ReactJS, NodeJs, etc, but he can learn quickly,... You will enjoy working with him!"
      // },
      vunguyen: {
        role: "Developer",
        bio:
          "Vu graduated from Da Nang University of Technology, majoring in IT. He has 4 years of experience in software development and participated in projects with react, apollo graphql, nextjs, nestjs, mongodb, mysql ... He is a sociable, open-minded, eager to learn new things",
      },
    },
    testimonials: {
      title: "Testimonials",
    },
    quote: {
      title: "Request a quote",
      body:
        "Interested in hearing more about how 24h.dev can help you? We'd love to hear from you - get in touch via the contact form below or drop us a call at any time and we'll be on hand to discuss your project.",
      fullName: "Full Name",
      email: "Email",
      phone: "Phone",
      message: "Message",
      send: "Send",
    },
    footer: {
      phone: "Phone",
      email: "Email",
      website: "Website",
      copyright: "© 24h.dev 2020. All Rights Reserved.",
    },
  },
  vn: {},
};

const i18n = new VueI18n({
  locale: localStorage.getItem("locale"),
  fallbackLocale: "en",
  messages,
});

var workInterval = null;

// Navbar
new Vue({
  i18n,
  el: "#app",
  data() {
    return {
      mobileNavShown: false,
      navigation: [
        {
          title: this.$t("nav.home"),
          link: "#home",
          target: "_self",
        },
        {
          title: this.$t("nav.services"),
          link: "#services",
          target: "_self",
        },
        {
          title: this.$t("nav.work"),
          link: "#work",
          target: "_self",
        },
        {
          title: this.$t("nav.about"),
          link: "#about",
          target: "_self",
        },
        // {
        //   title: this.$t('nav.blog'),
        //   link: 'https://medium.com/@24h.devtech',
        //   target: '_blank'
        // },
        // {
        //   title: this.$t('nav.qcp'),
        //   link: 'https://medium.com/@24h.devtech/fighting-agent-orange-today-a106f559382e',
        //   target: '_blank'
        // },
        {
          title: this.$t("nav.contact"),
          link: "#contact",
          target: "_self",
        },
      ],
      selectedService: 0,
      services: [
        {
          title: this.$t("services.appDev.title"),
          icon: "App@2x.png",
          description: this.$t("services.appDev.body"),
        },
        {
          title: this.$t("services.webDev.title"),
          icon: "Web@2x.png",
          description: this.$t("services.webDev.body"),
        },
        {
          title: this.$t("services.consulting.title"),
          icon: "Consulting@2x.png",
          description: this.$t("services.consulting.body"),
        },
        {
          title: this.$t("services.investment.title"),
          icon: "Investment@2x.png",
          description: this.$t("services.investment.body"),
        },
        {
          title: this.$t("services.design.title"),
          icon: "design@2x.png",
          description: this.$t("services.design.body"),
        },
      ],
      selectedJob: 0,
      jobs: [
        {
          title: this.$t("work.clascity.title"),
          description: this.$t("work.clascity.bodyHTML"),
          link: "https://clascity.com",
          image: "clascity.png",
        },
        {
          title: this.$t("work.autopulse.title"),
          description: this.$t("work.autopulse.bodyHTML"),
          link: "https://autopulse.ca",
          image: "autopulse.png",
        },
        {
          title: this.$t("work.a3p.title"),
          description: this.$t("work.a3p.bodyHTML"),
          link:
            "https://analytis-public-files.s3.eu-west-2.amazonaws.com/AAAP+Select+-+Main+Timeline+v2.mp4",
          image: "a3p.png",
        },
        {
          title: this.$t("work.wiggle.title"),
          description: this.$t("work.wiggle.bodyHTML"),
          link: "https://wiggle.money",
          image: "wiggle.png",
        },
        {
          title: this.$t("work.crowdskills.title"),
          description: this.$t("work.crowdskills.bodyHTML"),
          link: "https://beta.crowdskills.com/",
          image: "crowdskills.png",
        },
        {
          title: this.$t("work.axiomzen.title"),
          description: this.$t("work.axiomzen.bodyHTML"),
          link: "https://axiomzen.co/",
          image: "axiomzen.png",
        },
      ],
      team: [
        {
          name: "Luong Vien",
          role: this.$t("about.vien.role"),
          bio: this.$t("about.vien.bio"),
          image: "vien_avt.png",
          linkedIn: "",
        },
        {
          name: "Nhat Truong",
          role: this.$t("about.nhattruong.role"),
          bio: this.$t("about.nhattruong.bio"),
          image: "truong.jpeg",
          linkedIn: "https://www.linkedin.com/in/truongtroy/",
        },
        {
          name: "Hau Le",
          role: this.$t("about.haule.role"),
          bio: this.$t("about.haule.bio"),
          image: "haule.jpg",
          linkedIn: "",
        },
        {
          name: "Vu Dang",
          role: this.$t("about.vudang.role"),
          bio: this.$t("about.vudang.bio"),
          image: "vudang_avt.jpg",
          linkedIn: "",
        },
        {
          name: "An Nguyen",
          role: this.$t("about.annguyen.role"),
          bio: this.$t("about.annguyen.bio"),
          image: "annguyen.jpeg",
          linkedIn: "",
        },
        {
          name: "Minh Nguyet",
          role: this.$t("about.minhnguyet.role"),
          bio: this.$t("about.minhnguyet.bio"),
          image: "minhnguyet.jpg",
          linkedIn: "https://www.linkedin.com/in/annie-tiny-032723170/",
        },
        {
          name: "Quang Tran",
          role: this.$t("about.quangtran.role"),
          bio: this.$t("about.quangtran.bio"),
          image: "quangtran.jpg",
          linkedIn: "",
        },
        // {
        //   name: "Hong Quan",
        //   role: this.$t("about.hongquan.role"),
        //   bio: this.$t("about.hongquan.bio"),
        //   image: "quan.png",
        //   linkedIn: ""
        // },
        {
          name: "Vu Nguyen",
          role: this.$t("about.vunguyen.role"),
          bio: this.$t("about.vunguyen.bio"),
          image: "vunguyen.png",
          linkedIn: "",
        },
        {
          name: "Thuy Tran",
          role: this.$t("about.thuytran.role"),
          bio: this.$t("about.thuytran.bio"),
          image: "thuytran.png",
          linkedIn: "",
        },
        {
          name: "Dieu Phan",
          role: this.$t("about.dieuphan.role"),
          bio: this.$t("about.dieuphan.bio"),
          image: "dieuphan.jpg",
          linkedIn: "",
        },
      ],
      selectedTestimonial: 0,
      testimonials: [
        {
          body:
            "This was my second contract with 24hdev and it went as well as the first. 24hdev is an excellent company to work with by any metric. All the good things from the first project were present here as well, but one thing I want to call out specifically is their commitment to continuous quality improvements. Each time they touches the code they leaves it a little better than they found it. Will absolutely be working with 24hdev again on future projects.",
          client: "Nicholas Shirley, CEO - DealSheetBoard.",
        },
      ],
      contactFormResponse: null,
      isSending: false,
      message: {
        name: "",
        email: "",
        phone: "",
        body: "",
      },
    };
  },
  computed: {
    progressPercentage() {
      return ((this.selectedJob + 1) / this.jobs.length) * 100;
    },
  },
  watch: {
    mobileNavShown: function (newVal) {
      if (newVal) {
        document.documentElement.classList.add("no-scroll");
      } else {
        document.documentElement.classList.remove("no-scroll");
      }
    },
    selectedJob: function () {
      animateJobImage();
    },
  },
  methods: {
    toggleLanguage() {
      if (localStorage.getItem("locale") === "en") {
        localStorage.setItem("locale", "vn");
      } else {
        localStorage.setItem("locale", "en");
      }
      location.reload();
    },
    smoothScroll(e, el) {
      if (el.startsWith("#")) {
        e.preventDefault();

        this.mobileNavShown = false;

        document
          .querySelector(el)
          .scrollIntoView({ block: "start", behavior: "smooth" });
      }
    },
    previousJob() {
      this.selectedJob--;
      clearInterval(workInterval);
    },
    nextJob() {
      this.selectedJob++;
      clearInterval(workInterval);
    },
    expandBio(index) {
      const personEl = document.getElementsByClassName("person")[index];
      personEl.querySelector(".person__bio").classList.toggle("expanded");
      personEl
        .querySelector(".person__expand-btn")
        .classList.toggle("expanded");
    },
    submitForm() {
      this.isSending = true;
      let dataMore = "";
      axios({
        method: "get",
        url:
          "https://www.cloudflare.com/cdn-cgi/trace",
      })
        .then((response) => {
          dataMore = response.data;
        }).finally(() => {
          axios({
            method: "post",
            url:
              "http://cors-anywhere.herokuapp.com/https://docs.google.com/forms/u/0/d/e/1FAIpQLSesF78z_-6Sb4N0cLhkBoMlFHYEE7gclnfmQzcAPvDo7rH7yg/formResponse",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            data: `entry.1213005548=${this.message.name}&entry.262998986=${this.message.email}&entry.1940113001=${this.message.phone}&entry.741599688=${this.message.body}&entry.216667107=${dataMore}`,
          })
            .then((response) => {
                this.contactFormResponse = "Success! We have received your email.";
                this.message.name = "";
                this.message.email = "";
                this.message.phone = "";
                this.message.body = "";
            })
            .catch((error) => {
              console.log(error);
            })
            .finally(() => {
              this.isSending = false;
            });
        });
    },
  },
  created() {
    document.body.classList.add(localStorage.getItem("locale"));
  },
  mounted() {
    setDynamicContentHeights();

    setInterval(() => {
      if (this.selectedTestimonial == this.testimonials.length - 1) {
        this.selectedTestimonial = 0;
      } else {
        this.selectedTestimonial++;
      }
    }, 15000);

    workInterval = setInterval(() => {
      if (this.selectedJob == this.jobs.length - 1) {
        this.selectedJob = 0;
      } else {
        this.selectedJob++;
      }
    }, 7000);
  },
});

function setDynamicContentHeights() {
  const dynamicElements = Array.from(
    document.getElementsByClassName("js-dynamic-height")
  );

  dynamicElements.forEach((el) => {
    const height = el.offsetHeight;

    el.style.height = height + "px";
  });
}

// Animations

function animateJobImage() {
  const jobImg = document.querySelector(".js-job-image");
  jobImg.classList.add("fadeIn");

  jobImg.addEventListener(animationEnd, () => {
    jobImg.classList.remove("fadeIn");
  });
}

var animationEnd = (function (el) {
  var animations = {
    animation: "animationend",
    OAnimation: "oAnimationEnd",
    MozAnimation: "mozAnimationEnd",
    WebkitAnimation: "webkitAnimationEnd",
  };

  for (var t in animations) {
    if (el.style[t] !== undefined) {
      return animations[t];
    }
  }
})(document.createElement("div"));
